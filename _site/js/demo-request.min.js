$(document).ready(function(){function e(e){var a=new RegExp(/^[+a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/i);return a.test(e)}function a(e){var a=new i;a.set("email",e.email?e.email:""),a.set("business",e.business?e.business:""),a.set("name",e.name?e.name:""),a.set("phone",e.phone?e.phone:""),a.set("time",e.time?e.time:""),a.set("message",e.message?e.message:""),console.log("Saving demo request : "+a.toJSON()),a.save(null,{success:function(e){analytics.track("Requested Demo",{email:e.attributes.email}),location="http://donde.io/contact/thank-you.html"},error:function(e,a){alert("Failed to send the demo request! Please try again."),console.error(a.code+" "+a.message)}})}function s(){var s=$("#emailInput").val(),i=$("#businessInput").val()||"";return s?e(s)?a({email:s,business:i}):alert("Sorry but the email address is invalid, please try again"):alert("Please fill the email field"),!1}Parse.initialize("gHDRtWSuD02eG4HtB21RjRMeLZmH7PJvNVmhuNI7","i2NqiVz7yionmTkeifhPQIvazs3YdtlWAfiIUnwK");var i=Parse.Object.extend("DemoRequest",{},{});$("#emailDemo").exists()&&($("#emailDemo").on("click",s),$("#emailInput").keypress(function(e){13==e.keyCode&&(s(),e.preventDefault())})),$("#sendForm").exists()&&$("#sendForm").on("click",function(){var s=$("#emailForm").val(),i=$("#businessForm").val(),t=$("#nameForm").val(),n=$("#phoneForm").val(),l=$("#messageForm").val();i?t?s?e(s)?a({email:s,business:i,name:t,phone:n,message:l}):alert("Sorry but the email address is invalid, please try again"):alert("Please fill the email field"):alert("Please fill the name field"):alert("Please fill the business field")})});
